---
type: plane
tags:
- 
headerLink: "[[План Стихий#План Стихий]]"
---

###### План Стихий
<span class="sub2">:FasCircleHalfStroke:  План Бытия</span>
___
ИЗОБРАЖЕНИЕ| ВСТАВЬ| СЮДА
> [!quote|no-t] SUMMARY
>The elemental planes are ruled by elemental deities and their respective elements - earth, water, fire, air, and electricity. These planes are often volatile and unpredictable, subject to the whims of the elementals who dwell there. They can be harsh or serene, depending on the nature of their ruling element.

#### marker
> [!column|flex 3]
> > [!hint]-  НПСы
> > <input type="checkbox" id="npc"/><ul class="sortMenu"><li class="sortIcon">:RiListSettingsLine:<ul class="dropdown npcedit"><li><label for="npc" class="directLabel active">Direct Links Only</label></li><li><label for="npc" class="childLabel">Include Sub-Locations</label></li></ul></li></ul>
> >```dataviewjs
dv.container.className += ' npcDirect';
dv.list(dv.pages('"Компендиум/НПСы"')
 .where(p => p.file.outlinks.includes(dv.current().file.link))
.sort(p => p.file.link)
.map(p => p.headerLink), 1);
>>```
>>```dataviewjs
dv.container.className += ' npcChild';
let page = dv.current().file.path;
let pages = new Set();
let stack = [page];
while (stack.length > 0) {
let elem = stack.pop();
let meta = dv.page(elem);
if (!meta) continue;
for (let inlink of meta.file.inlinks.concat(meta.file.outlinks).array()) {
let locations = dv.page(inlink.path);
if (!locations || pages.has(inlink.path) || inlink.path === meta.locations?.[0]) continue;
 if (dv.array(locations.locations).join(", ").includes(meta.file.path)) {
 pages.add(inlink.path);
 stack.push(inlink.path);
}}}
let data = Array.from(pages)
.filter(p => dv.page(p)?.type === "npc")
.map(p => dv.page(p).headerLink)
.sort((a, b) => {
if (a < b) return -1;
if (a > b) return 1;
return 0;
});
dv.list(data);
> 
>> [!example]- Локации
>>```dataview
LIST WITHOUT ID headerLink
FROM "Компендиум/Атлас/План Стихий"
WHERE type= "realm"
SORT file.name ASC
>
>> [!note]- История
>>```dataview
LIST WITHOUT ID headerLink
FROM "Сессионные Заметки" AND [[План Стихий]]
SORT file.ctime DESC