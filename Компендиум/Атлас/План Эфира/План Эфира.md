---
type: plane
tags:
- 
headerLink: "[[План Эфира#План Эфира]]"
---

###### План Эфира
<span class="sub2">:FasCircleHalfStroke:  План Бытия</span>
___
ИЗОБРАЖЕНИЕ| ВСТАВЬ| СЮДА
> [!quote|no-t] SUMMARY
>This plane exists alongside the mortal realm but cannot be perceived by mortal senses unless one has ethereal sight or other means of interacting with it. It is home to ghosts, spirits, and elementals who have passed on from their elemental planes. The ethereal plane consists mostly of mist and vapor, making navigation challenging without the proper abilities.

#### marker
> [!column|flex 3]
> > [!hint]-  НПСы
> > <input type="checkbox" id="npc"/><ul class="sortMenu"><li class="sortIcon">:RiListSettingsLine:<ul class="dropdown npcedit"><li><label for="npc" class="directLabel active">Direct Links Only</label></li><li><label for="npc" class="childLabel">Include Sub-Locations</label></li></ul></li></ul>
> >```dataviewjs
dv.container.className += ' npcDirect';
dv.list(dv.pages('"Компендиум/НПСы"')
 .where(p => p.file.outlinks.includes(dv.current().file.link))
.sort(p => p.file.link)
.map(p => p.headerLink), 1);
>>```
>>```dataviewjs
dv.container.className += ' npcChild';
let page = dv.current().file.path;
let pages = new Set();
let stack = [page];
while (stack.length > 0) {
let elem = stack.pop();
let meta = dv.page(elem);
if (!meta) continue;
for (let inlink of meta.file.inlinks.concat(meta.file.outlinks).array()) {
let locations = dv.page(inlink.path);
if (!locations || pages.has(inlink.path) || inlink.path === meta.locations?.[0]) continue;
 if (dv.array(locations.locations).join(", ").includes(meta.file.path)) {
 pages.add(inlink.path);
 stack.push(inlink.path);
}}}
let data = Array.from(pages)
.filter(p => dv.page(p)?.type === "npc")
.map(p => dv.page(p).headerLink)
.sort((a, b) => {
if (a < b) return -1;
if (a > b) return 1;
return 0;
});
dv.list(data);
> 
>> [!example]- Локации
>>```dataview
LIST WITHOUT ID headerLink
FROM "Компендиум/Атлас/План Эфира"
WHERE type= "realm"
SORT file.name ASC
>
>> [!note]- История
>>```dataview
LIST WITHOUT ID headerLink
FROM "Сессионные Заметки" AND [[План Эфира]]
SORT file.ctime DESC